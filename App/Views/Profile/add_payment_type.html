{% extends 'settings_form_base.html' %}

{% block title %}Add Payment Type{% endblock %}

{% block footer %}
	{{ parent() }}
	
    <script>
        $(document).ready(function() {
            /**
             * Validate the form
             */
            $('#formPaymentTypeAdd').validate({
                rules: {
                    paymentTypeNewName: {
                        required: true,
                        remote: {
                            url: '/payment/validate-type',
                        }
                    },
                },
                messages: {
                    paymentTypeNewName: {
                        remote: 'There is already payment type with such a name'
                    }
                }
            });
        });
    </script>

{% endblock %}

{% block settings_form %}

    <div class="py-5 text-center">
		<h2>Add payment type</h2>
	</div>

    <form class="settings-form" method="post" id="formPaymentTypeAdd" action="/profile/paymentTypeSave">
        <div class="form-group">
            <label for="paymentTypeNewName">Payment type name</label>
            <input id="paymentTypeNewName" name="paymentTypeNewName" placeholder="Payment type name" required class="form-control" />
        </div>
		<div class="form-group row">
			<div class="col-6 text-left">
				<button class="btn btn-danger btn-sm" onclick="location.href='/profile/show'" type="button">Cancel</button>
			</div>
			<div class="col-6 text-right">
				<button type="submit" class="btn btn-success btn-sm">Add</button>
			</div>
		</div>
    </form>

{% endblock %}
