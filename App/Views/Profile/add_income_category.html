{% extends 'settings_form_base.html' %}

{% block title %}Add Income Category{% endblock %}

{% block footer %}
	{{ parent() }}
	
    <script>
        $(document).ready(function() {
            /**
             * Validate the form
             */
            $('#formIncomeCategoryAdd').validate({
                rules: {
                    incomeCategoryNewName: {
                        required: true,
                        remote: {
                            url: '/income/validate-category',
                        }
                    },
                },
                messages: {
                    incomeCategoryNewName: {
                        remote: 'There is already income category with such a name'
                    }
                }
            });
        });
    </script>

{% endblock %}

{% block settings_form %}

    <div class="py-5 text-center">
		<h2>Add income category</h2>
	</div>

    <form class="settings-form" method="post" id="formIncomeCategoryAdd" action="/profile/incomeCategorySave">
        <div class="form-group">
            <label for="incomeCategoryNewName">Income category name</label>
            <input id="incomeCategoryNewName" name="incomeCategoryNewName" placeholder="Income category name" required class="form-control" />
        </div>
		<div class="form-group row">
			<div class="col-6 text-left">
				<button class="btn btn-danger btn-sm" onclick="location.href='/profile/show'" type="button">Cancel</button>
			</div>
			<div class="col-6 text-right">
				<button type="submit" class="btn btn-success btn-sm">Save</button>
			</div>
		</div>
    </form>

{% endblock %}
